<?xml version="1.0" encoding="utf-8"?>
<mule
        xmlns="http://www.mulesoft.org/schema/mule/core"
        xmlns:quartz="http://www.mulesoft.org/schema/mule/quartz"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="
        http://www.mulesoft.org/schema/mule/quartz http://www.mulesoft.org/schema/mule/quartz/current/mule-quartz.xsd
        http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd">

    <quartz:endpoint name="quartz-scheduler" jobName="cron-tak-cache-reset"
                     cronExpression="${CRON_TAK_CACHE_RESET}" responseTimeout="${SERVICE_TIMEOUT_MS}">
        <quartz:event-generator-job/>
    </quartz:endpoint>

    <flow name="update-tak-cache-cron-flow">
        <inbound-endpoint ref="quartz-scheduler"/>
        <invoke object-ref="router" method="updateRoutingDataScheduledEvent"/>
        <custom-exception-strategy class="org.soitoolkit.commons.mule.error.ServiceExceptionStrategy" />
    </flow>

</mule>
