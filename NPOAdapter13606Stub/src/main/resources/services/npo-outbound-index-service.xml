<?xml version="1.0" encoding="utf-8"?>
<mule
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns="http://www.mulesoft.org/schema/mule/core"
        xmlns:cxf="http://www.mulesoft.org/schema/mule/cxf"
        xmlns:https="http://www.mulesoft.org/schema/mule/https"
        xsi:schemaLocation="
                http://www.mulesoft.org/schema/mule/core    http://www.mulesoft.org/schema/mule/core/current/mule.xsd
                http://www.mulesoft.org/schema/mule/cxf     http://www.mulesoft.org/schema/mule/cxf/current/mule-cxf.xsd
                http://www.mulesoft.org/schema/mule/https   http://www.mulesoft.org/schema/mule/https/current/mule-https.xsd">

    <flow name="NPOService-1.1.2-Client">

		<logger level="INFO" message="=== Call out to external NPO SendSimpleIndex ===" />
		
		<!-- https for external connection -->
		<https:outbound-endpoint connector-ref="soitoolkit-https-connector"
		                         address="${OUT_ENDPOINT_NPO}"
		                         exchange-pattern="request-response"
		                         responseTimeout="${SERVICE_TIMEOUT_MS}"
		                         transformer-refs="logReqOut"
		                         responseTransformer-refs="logRespIn check-response-transformer">
		    <cxf:jaxws-client port="NPOSoap"
		                      operation="SendSimpleIndex"
		                      clientClass="se.nationellpatientoversikt.NPO"
		                      wsdlLocation="classpath:/interactions/npo/NPO_1.1.2.wsdl" />
		</https:outbound-endpoint>

    </flow>

</mule>
